(this.webpackJsonpmkmetalarchive=this.webpackJsonpmkmetalarchive||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),u=n.n(c),l=(n(76),n(77),n(121)),o=n(118),i=n(5),s=n.n(i),m=n(14),d=n(21),f=n(25),b=n.n(f),p=function(e){return"/data/"+e},h=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(p("data.json"));case 2:return t=e.sent.data,e.abrupt("return",w(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(p("data.json"));case 2:return n=e.sent.data,a=n.find((function(e){return e.id==t})),e.next=6,b.a.get(p(a.linkToData));case 6:return r=e.sent.data,e.abrupt("return",Promise.resolve(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(p("data.json"));case 2:return n=e.sent.data,a=n.find((function(e){return e.id==t})),e.next=6,b.a.get(p(a.linkToData));case 6:return r=e.sent.data,e.next=9,w(r.albums);case 9:return c=e.sent,e.abrupt("return",Promise.resolve(c));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return a=e.sent,r=a.find((function(e){return e.id==n})),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=[],t.forEach((function(e){n.push(b.a.get(p(e.linkToData)).then((function(e){a.push(e.data)})))})),e.next=5,Promise.all(n);case 5:return e.abrupt("return",Promise.resolve(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=Object(d.b)({name:"band-store",initialState:{allBands:[],displayBands:[]},reducers:{setAllBands:function(e,t){e.allBands=t.payload},setDisplayBands:function(e,t){e.displayBands=t.payload}}}),O=j.actions,x=(O.setAllBands,O.setDisplayBands),y=n(15),k=n(112),B=n(113),N=n(114),P=n(115),A=n(116),D=n(117),S=function(e){return r.a.createElement(k.a,null,r.a.createElement(B.a,{size:"medium"},r.a.createElement(N.a,null,r.a.createElement(P.a,null,e.headers.map((function(e){return r.a.createElement(A.a,{key:e.title},e.title)})))),r.a.createElement(D.a,null,e.data.map((function(t){return e.rowRenderer(t)})))))},R=n(123),M=n(4),T=n(39),F="/",J="/band/:bandName",L="/band/:bandName/album/:albumName",W=Object(y.c)((function(e){return{gridData:e.bandList.displayBands}}),(function(e){return{getAllBands:function(){e(function(){var e=Object(m.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:a=e.sent,t(x(a)),console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}}))((function(e){return r.a.useEffect((function(){e.getAllBands()}),[]),r.a.createElement(S,{headers:[{title:"name"},{title:"genre"},{title:"location"},{title:"Status"}],rowRenderer:function(e){var t=Object(M.d)(J,{bandName:e.id});return console.log(t),r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement(R.a,{component:T.a,to:t},e.name)),r.a.createElement(A.a,null,e.genre),r.a.createElement(A.a,null,e.location),r.a.createElement(A.a,null,e.status))},data:e.gridData})})),z=Object(d.b)({name:"album-page-store",initialState:{},reducers:{setAlbum:function(e,t){e.album=t.payload}}}),I=z.actions.setAlbum,K=Object(y.c)((function(e){return{album:e.albumPage.album}}),(function(e){return{init:function(t,n){e(function(e,t){return function(){var n=Object(m.a)(s.a.mark((function n(a,r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e,t);case 2:c=n.sent,console.log(c),a(I(c));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){r.a.useEffect((function(){e.init(e.match.params.bandName,e.match.params.albumName)}),[]);return e.album&&console.log("props",e.album),r.a.createElement(r.a.Fragment,null,e.album?r.a.createElement(l.a,null,r.a.createElement(o.a,null,e.album.name),r.a.createElement(S,{headers:[{title:"name"},{title:"length"}],rowRenderer:function(e){return r.a.createElement(P.a,null,r.a.createElement(A.a,null,e.name),r.a.createElement(A.a,null,e.lenght))},data:e.album.songs})):null)})),$=Object(d.b)({name:"band-page-store",initialState:{albums:[]},reducers:{setBand:function(e,t){e.band=t.payload},setAlbums:function(e,t){e.albums=t.payload}}}),q=$.actions,C=q.setBand,G=q.setAlbums,H=Object(y.c)((function(e){return{band:e.bandPage.band,albums:e.bandPage.albums}}),(function(e){return{init:function(t){e(function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n,a){var r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:return r=t.sent,t.next=5,w(r.albums);case 5:c=t.sent,n(C(r)),n(G(c));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){r.a.useEffect((function(){e.init(e.match.params.bandName)}),[]);return r.a.createElement(r.a.Fragment,null,e.band?r.a.createElement(l.a,null,r.a.createElement(o.a,null,e.band.name),r.a.createElement(S,{headers:[{title:"name"},{title:"year"},{title:"length"}],rowRenderer:function(t){var n=Object(M.d)(L,{bandName:e.match.params.bandName,albumName:t.id});return console.log(n),r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement(R.a,{component:T.a,to:n},t.name)),r.a.createElement(A.a,null,t.year),r.a.createElement(A.a,null,t.length))},data:e.albums})):null)}));var Q=function(){return r.a.createElement(l.a,null,r.a.createElement(o.a,{align:"center",variant:"h2"},"MK Metal Archive"),r.a.createElement(M.a,{exact:!0,path:F,component:W}),r.a.createElement(M.a,{exact:!0,path:J,component:H}),r.a.createElement(M.a,{exact:!0,path:L,component:K}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(10),V=n(66),X=n(65),Y=n(16),Z=n(57),_=n(40),ee={bandList:j.reducer,bandPage:$.reducer,albumPage:z.reducer};function te(e){return Object(Y.c)(Object(V.a)({},ee,{router:Object(_.b)(e)}))}var ne=function(e){var t=[].concat(Object(X.a)(Object(d.c)()),[Object(Z.a)(e)]);return Object(d.a)({reducer:te(e),middleware:t})},ae=n(119),re=n(64),ce=Object(re.a)({}),ue=Object(U.a)({basename:window.location.host}),le=ne(ue);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,{store:le},r.a.createElement(_.a,{history:ue},r.a.createElement(ae.a,{theme:ce},r.a.createElement(Q,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,n){e.exports=n(101)},76:function(e,t,n){},77:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.c0bec08e.chunk.js.map