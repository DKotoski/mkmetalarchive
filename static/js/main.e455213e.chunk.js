(this.webpackJsonpmkmetalarchive=this.webpackJsonpmkmetalarchive||[]).push([[0],{123:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(26),c=a.n(l),u=(a(97),a(98),a(149)),o=a(127),i=a(8),s=a.n(i),m=a(14),d=a(22),f=a(31),p=a.n(f),b=function(e){return"/mkmetalarchive/data/"+e},y=function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(b("data.json")),e.next=3,p.a.get(b("data.json"));case 3:return n=e.sent.data,e.abrupt("return",v(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(s.a.mark((function e(n){var a,t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(b("data.json"));case 2:return a=e.sent.data,t=a.find((function(e){return e.id==n})),e.next=6,p.a.get(b(t.linkToData));case 6:return r=e.sent.data,e.abrupt("return",Promise.resolve(r));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(n){var a,t,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(b("data.json"));case 2:return a=e.sent.data,t=a.find((function(e){return e.id==n})),e.next=6,p.a.get(b(t.linkToData));case 6:return r=e.sent.data,e.next=9,v(r.albums);case 9:return l=e.sent,e.abrupt("return",Promise.resolve(l));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(s.a.mark((function e(n,a){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n);case 2:return t=e.sent,r=t.find((function(e){return e.id==a})),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(s.a.mark((function e(n){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t=[],n.forEach((function(e){a.push(p.a.get(b(e.linkToData)).then((function(e){t.push(e.data)})))})),e.next=5,Promise.all(a);case 5:return e.abrupt("return",Promise.resolve(t));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=Object(d.b)({name:"band-store",initialState:{allBands:[],displayBands:[]},reducers:{setAllBands:function(e,n){e.allBands=n.payload},setDisplayBands:function(e,n){e.displayBands=n.payload}}}),w=P.actions,j=(w.setAllBands,w.setDisplayBands),O=a(19),x=a(139),k=a(140),B=a(141),N=a(142),A=a(143),S=a(144),D=function(e){return r.a.createElement(x.a,null,r.a.createElement(k.a,{size:"medium"},r.a.createElement(B.a,null,r.a.createElement(N.a,null,e.headers.map((function(e){return r.a.createElement(A.a,{key:e.title},e.title)})))),r.a.createElement(S.a,null,e.data.map((function(n,a){return r.a.createElement(N.a,{key:a},e.rowRenderer(n))})))))},F=a(145),I=a(10),C=a(34),R="/",M="/band/:bandName",T="/band/:bandName/album/:albumName",J=Object(O.c)((function(e){return{gridData:e.bandList.displayBands}}),(function(e){return{getAllBands:function(){e(function(){var e=Object(m.a)(s.a.mark((function e(n,a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,n(j(t)),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}())}}}))((function(e){return r.a.useEffect((function(){e.getAllBands()}),[]),r.a.createElement(D,{headers:[{title:"name"},{title:"genre"},{title:"location"},{title:"Status"}],rowRenderer:function(e){var n=Object(I.d)(M,{bandName:e.id});return console.log(n),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(F.a,{component:C.b,to:n},e.name)),r.a.createElement(A.a,null,e.genre),r.a.createElement(A.a,null,e.location),r.a.createElement(A.a,null,e.status))},data:e.gridData})})),L=a(150),W=Object(d.b)({name:"album-page-store",initialState:{},reducers:{setAlbum:function(e,n){e.album=n.payload}}}),z=W.actions.setAlbum,K=a(146),U=a(47),$=a.n(U),q=a(84),G=a.n(q),H=a(48),Q=Object(d.b)({name:"player-store",initialState:{playlist:[],isPlaying:!1},reducers:{setPlaylist:function(e,n){e.playlist=n.payload},setCurrentPlaying:function(e,n){e.currentPlaying=n.payload},setIsPlaying:function(e,n){e.isPlaying=n.payload}}}),V=Q.actions,X=V.setPlaylist,Y=V.setCurrentPlaying,Z=V.setIsPlaying,_=a(86),ee=(a(122),Object(O.c)((function(e){return{currentPlay:e.player.currentPlaying,playlist:e.player.playlist,isPlaying:e.player.isPlaying}}),(function(e){return{setIsPlaying:function(n){e(Z(n))}}}))((function(e){return r.a.createElement(r.a.Fragment,null,0!=e.playlist.length?r.a.createElement(u.a,null,r.a.createElement(o.a,null,e.currentPlay?e.currentPlay.name:""),r.a.createElement(u.a,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:1},e.isPlaying?r.a.createElement(L.a,{onClick:function(){e.setIsPlaying(!1)}},r.a.createElement(G.a,null)):r.a.createElement(L.a,{onClick:function(){e.setIsPlaying(!0)}},r.a.createElement($.a,null))),r.a.createElement(K.a,{item:!0},e.isPlaying?r.a.createElement("audio",{autoPlay:!0},r.a.createElement("source",{src:e.currentPlay.url,type:"audio/mpeg"})):null))),r.a.createElement(_.a,{autoPlay:!0,src:e.currentPlay?e.currentPlay.url:"",onPlay:function(e){return console.log("onPlay")}})):null)}))),ne=Object(O.c)((function(e){return{album:e.albumPage.album}}),(function(e){return{init:function(n,a){e(function(e,n){return function(){var a=Object(m.a)(s.a.mark((function a(t,r){var l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(e,n);case 2:l=a.sent,console.log(l),t(z(l));case 5:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}()}(n,a))},onSongPlay:function(n){e(function(e){return function(){var n=Object(m.a)(s.a.mark((function n(a,t){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(X([e])),a(Y(e));case 2:case"end":return n.stop()}}),n)})));return function(e,a){return n.apply(this,arguments)}}()}(n))}}}))((function(e){r.a.useEffect((function(){e.init(e.match.params.bandName,e.match.params.albumName)}),[]);return e.album&&console.log("props",e.album),r.a.createElement(r.a.Fragment,null,e.album?r.a.createElement(u.a,null,r.a.createElement(o.a,null,e.album.name),r.a.createElement(ee,null),r.a.createElement(D,{headers:[{title:"name"},{title:"length"},{title:""}],rowRenderer:function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,n.name),r.a.createElement(A.a,null,n.lenght),r.a.createElement(A.a,null,r.a.createElement(L.a,{onClick:function(){e.onSongPlay({name:n.name,url:n.playUrl})}},r.a.createElement($.a,null))))},data:e.album.songs})):null)})),ae=Object(d.b)({name:"band-page-store",initialState:{albums:[]},reducers:{setBand:function(e,n){e.band=n.payload},setAlbums:function(e,n){e.albums=n.payload}}}),te=ae.actions,re=te.setBand,le=te.setAlbums,ce=Object(O.c)((function(e){return{band:e.bandPage.band,albums:e.bandPage.albums}}),(function(e){return{init:function(n){e(function(e){return function(){var n=Object(m.a)(s.a.mark((function n(a,t){var r,l;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E(e);case 2:return r=n.sent,n.next=5,v(r.albums);case 5:l=n.sent,a(re(r)),a(le(l));case 8:case"end":return n.stop()}}),n)})));return function(e,a){return n.apply(this,arguments)}}()}(n))}}}))((function(e){r.a.useEffect((function(){e.init(e.match.params.bandName)}),[]);return r.a.createElement(r.a.Fragment,null,e.band?r.a.createElement(u.a,null,r.a.createElement(o.a,null,e.band.name),r.a.createElement(D,{headers:[{title:"name"},{title:"year"},{title:"length"}],rowRenderer:function(n){var a=Object(I.d)(T,{bandName:e.match.params.bandName,albumName:n.id});return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(F.a,{component:C.b,to:a},n.name)),r.a.createElement(A.a,null,n.year),r.a.createElement(A.a,null,n.length))},data:e.albums})):null)}));var ue=function(){return r.a.createElement(C.a,null,r.a.createElement(u.a,null,r.a.createElement(o.a,{align:"center",variant:"h2"},"MK Metal Archive"),r.a.createElement(I.a,{exact:!0,path:R,component:J}),r.a.createElement(I.a,{exact:!0,path:M,component:ce}),r.a.createElement(I.a,{exact:!0,path:T,component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(16),ie=a(87),se=a(23),me=a(67),de=a(49),fe={bandList:P.reducer,bandPage:ae.reducer,albumPage:W.reducer,player:Q.reducer};function pe(e){return Object(se.c)(Object(ie.a)({},fe,{router:Object(de.b)(e)}))}var be=function(e){var n=[].concat(Object(H.a)(Object(d.c)()),[Object(me.a)(e)]);return Object(d.a)({reducer:pe(e),middleware:n})},ye=a(147),Ee=a(85),ge=Object(Ee.a)({}),he=Object(oe.a)({basename:window.location.host}),ve=be(he);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:ve},r.a.createElement(de.a,{history:he},r.a.createElement(ye.a,{theme:ge},r.a.createElement(ue,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,n,a){e.exports=a(123)},97:function(e,n,a){},98:function(e,n,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.e455213e.chunk.js.map